<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Coordinated Omission - EngineBlock</title>
    <meta name="generator" content="Hugo 0.31" />

    
    <meta name="description" content="EngineBlock Docs">
    
    <link rel="canonical" href="http://docs.engineblock.io/user-guide/coordinated_omission/">
    

    <meta property="og:url" content="http://docs.engineblock.io/user-guide/coordinated_omission/">
    <meta property="og:title" content="EngineBlock">
    <meta property="og:image" content="http://docs.engineblock.io/images/engineblock_128.png">
    <meta name="apple-mobile-web-app-title" content="EngineBlock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://docs.engineblock.io/images/engineblock_32.png">
    <link rel="icon" type="image/x-icon" href="http://docs.engineblock.io/images/engineblock_32.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://docs.engineblock.io/fonts/icon.eot');
        src: url('http://docs.engineblock.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://docs.engineblock.io/fonts/icon.woff')
               format('woff'),
             url('http://docs.engineblock.io/fonts/icon.ttf')
               format('truetype'),
             url('http://docs.engineblock.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/application.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/images.css">

    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://docs.engineblock.io/javascripts/modernizr.js"></script>

    

  
    
    

    
    

    
    

    
    

    
    

    
    

    
    
    
    
    

    
    


      
    
    <link href="http://docs.engineblock.io//modules/annotatorjs/annotator.css" rel="stylesheet" />
    <script src="http://docs.engineblock.io//modules/annotatorjs/jquery-3.2.1.js"></script>
    <script src="http://docs.engineblock.io//modules/annotatorjs/annotator.js"></script>
    <script>
        var app = new annotator.App();
        app.include(annotator.ui.main);
        app
            .start()
            .then(function() {
                app.annotations.load();
            });
    </script>


  </head>
  <body class="palette-primary-grey palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Coordinated Omission
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/engineblock/engineblock" title="@engineblock/engineblock on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://docs.engineblock.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://docs.engineblock.io/images/engineblock_128.png">
        </div>
      
      <div class="name">
        <strong>EngineBlock </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="EngineBlock" href="http://docs.engineblock.io/">
	
	EngineBlock
</a>



  
</li>



<li>
  
    



<a  title="Quickstart" href="http://docs.engineblock.io/quickstart/">
	
	Quickstart
</a>



  
</li>



<li>
  
    <span class="section">User Guide</span>
    <ul>
      
        
        



<a  title="Concepts" href="http://docs.engineblock.io/user-guide/concepts/">
	
	Concepts
</a>



      
        
        



<a  title="Command Line" href="http://docs.engineblock.io/user-guide/command_line/">
	
	Command Line
</a>



      
        
        



<a  title="CLI Scripting" href="http://docs.engineblock.io/user-guide/cli_scripting/">
	
	CLI Scripting
</a>



      
        
        



<a  title="YAML Config" href="http://docs.engineblock.io/user-guide/standard_yaml/">
	
	YAML Config
</a>



      
        
        



<a  title="Using Metrics" href="http://docs.engineblock.io/user-guide/using_metrics/">
	
	Using Metrics
</a>



      
        
        



<a  title="Standard Metrics" href="http://docs.engineblock.io/user-guide/standard_metrics/">
	
	Standard Metrics
</a>



      
        
        



<a class="current" title="Coordinated Omission" href="http://docs.engineblock.io/user-guide/coordinated_omission/">
	
	Coordinated Omission
</a>


<ul id="scrollspy">
</ul>


      
        
        



<a  title="Scenario Scripting" href="http://docs.engineblock.io/user-guide/scenario_scripting/">
	
	Scenario Scripting
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Parameters</span>
    <ul>
      
        
        



<a  title="Parameter Usage" href="http://docs.engineblock.io/parameters/parameter_usage/">
	
	Parameter Usage
</a>



      
        
        



<a  title="Example Command" href="http://docs.engineblock.io/parameters/example_command/">
	
	Example Command
</a>



      
        
        



<a  title="Activity Params" href="http://docs.engineblock.io/parameters/activity_params/">
	
	Activity Params
</a>



      
        
        



<a  title="Statement Params" href="http://docs.engineblock.io/parameters/statement_params/">
	
	Statement Params
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Dev Guide</span>
    <ul>
      
        
        



<a  title="Activity Internals" href="http://docs.engineblock.io/dev-guide/activity_internals/">
	
	Activity Internals
</a>



      
        
        



<a  title="Building ActivityTypes" href="http://docs.engineblock.io/dev-guide/building_activities/">
	
	Building ActivityTypes
</a>



      
        
        



<a  title="Contributing" href="http://docs.engineblock.io/dev-guide/contributing/">
	
	Contributing
</a>



      
        
        



<a  title="Diag ActivityType" href="http://docs.engineblock.io/dev-guide/annotated_diag/">
	
	Diag ActivityType
</a>



      
        
        



<a  title="Project Structure" href="http://docs.engineblock.io/dev-guide/project_structure/">
	
	Project Structure
</a>



      
        
        



<a  title="Scripting Extensions" href="http://docs.engineblock.io/dev-guide/scripting_extensions/">
	
	Scripting Extensions
</a>



      
        
        



<a  title="YAML Config API" href="http://docs.engineblock.io/dev-guide/standard_yam_devl/">
	
	YAML Config API
</a>



      
    </ul>
  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Coordinated Omission </h1>

			

<p>Coordinated omission is a term of art coined by Gil Tene. In practice,
coordinated omission follows from the fact that all systems have finite
concurrency and scheduling capacity, including the clients that test them. While
the term doesn&rsquo;t cover all important aspects of scale and performance testing,
it does put a focus on a particularly troublesome problem that often occurs with
testing methods where effective concurrency is a meaningful limitation.</p>

<p>EngineBlock has specific features to help shed a light on the effects of
coordinated omission. This section explains some of them, how they work, and how
to use them.</p>

<h2 id="terms">Terms</h2>

<p>Often, terms used to describe latency in the context of coordinated omission can
create confusion. In this section the following terms will be used, as there are
a few different conventions in use across the industry.</p>

<ul>
<li>scheduling delay - The time between when an operation is intended to start
and when it actually starts on a client</li>
<li>operational latency - The time between when an operation is started from the
client, and when it is completed on the client.</li>
<li>total response time - The user-centric measurement of latency which includes
both scheduling delay and operational latency.</li>
<li>service time - The time it takes a server or system to fully respond to a
request and send a response.</li>
</ul>

<p>As EngineBlock is a client-side tool, only the first two are directly
observable: <em>delay</em> and <em>latency</em>. The third, <em>response</em> is calculated
separately per operation. The reason for this will be made clearer below.</p>

<h2 id="c-o-rate-controls">C.O. Rate Controls</h2>

<p>When rate limiting is enabled, the rate limiter is responsible for both limiting
the start time of each operation, as well as metering how far the operations lag
behind the ideal schedule. This is retained as a scheduling delay specific to
each operation and added to any measurements of latency in order to arrive at an
overall response time for each operation.</p>

<p>When the rate controls are enabled, you have to decide whether the scheduling
delay measured by the rate limiter will be used in latency metrics. If you
choose not to include the delay, then the latency metrics reported only measure
operational latency. You can still observe the scheduling delay metric in this
case in order to interpret the overall severity of scheduling delay by itself.
If you choose to include the delay, then the latency metrics reported are
effectively <em>response time</em> as defined above. In this mode, the per-op
operational latency is lost in the mix.</p>

<p>There are reasons to measure either way, depending on the kind of testing you
are doing. All systems have concurrency limitations and critical resource
constraints. Also, systems are comprised of clients <em>and</em> servers with various
concurrency models. Sometimes it is useful to see system behavior through a more
conventional lens.</p>

<h2 id="using-c-o-metrics">Using C.O. metrics</h2>

<p>You can enable coordinated awareness in your metrics by using the following activity parameters:</p>

<ul>
<li><a href="http://docs.engineblock.io/parameters/activity_params/#striderate">striderate</a></li>
<li><a href="http://docs.engineblock.io/parameters/activity_params/#cyclerate">cyclerate</a></li>
<li><a href="http://docs.engineblock.io/parameters/activity_params/#phaserate">phaserate</a></li>
</ul>

<p>These rate controls nest from the outside-in. The relationship between them is explained
in more detail under <a href="http://docs.engineblock.io/parameters/activity_params">Activity Params</a>.</p>

<p>Setting a target rate for more than one of these at a time is not something that is
generally useful, since nested rates can become askew from each other unless they are
perfectly matched together in terms of op counts.</p>

<p>In general, simply add <code>,co</code> to the end of any rate specifier to ensure that it is enabled.
For example, <code>cyclerate=1000,0.0,co</code>. The second number in the rate specifier will be
a scheduling strictness control. For now, it is required to be <code>0.0</code>, which means burstable
average rate limiting. Still, the scheduling delay is included in the result as long as <code>,co</code>
is present. Alternately, you can use the <code>co_</code> prefix for the rate controls to achieve
the same effect, as in <code>co_cyclerate=1000</code>.</p>

<h2 id="metric-names">Metric Names</h2>

<p>When a rate limiter is set, there are two additional metrics that are reported:</p>

<ul>
<li><code>&lt;alias&gt;.&lt;stride|cycle|phase&gt;.cco_delay_gauge</code> - A meter of the cumulative
scheduling delay for an activity with the alias and the respective rate limiter
level. Although this is a gauge, the scheduled delay that is added to latencies is calculated
per-op.

<ul>
<li>example: <code>testactivity.cycle.cco_delay_gauge</code> is the cycle delay gauge for an activity with the alias
&lsquo;testactivity&rsquo;.</li>
</ul></li>
<li><code>&lt;alias&gt;.&lt;stride|cycle|phase&gt;.avg_targetrate_gauge</code> - This simply reports the intended average
target rate for complete metric views in dashboards.
<br />

<br />
<br /></li>
</ul>


			<aside class="copyright" role="note">
				
				&copy; 2018 APL 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://docs.engineblock.io/user-guide/concepts/" title="Concepts">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Concepts
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://docs.engineblock.io/user-guide/scenario_scripting/" title="Scenario Scripting">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Scenario Scripting
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://docs.engineblock.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

