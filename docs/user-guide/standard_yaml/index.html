<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Config File Format - EngineBlock</title>
    <meta name="generator" content="Hugo 0.20.7" />

    
    <meta name="description" content="EngineBlock Docs">
    
    <link rel="canonical" href="http://docs.engineblock.io/user-guide/standard_yaml/">
    

    <meta property="og:url" content="http://docs.engineblock.io/user-guide/standard_yaml/">
    <meta property="og:title" content="EngineBlock">
    <meta property="og:image" content="http://docs.engineblock.io/images/engineblock_128.png">
    <meta name="apple-mobile-web-app-title" content="EngineBlock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://docs.engineblock.io/images/engineblock_32.png">
    <link rel="icon" type="image/x-icon" href="http://docs.engineblock.io/images/engineblock_32.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://docs.engineblock.io/fonts/icon.eot');
        src: url('http://docs.engineblock.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://docs.engineblock.io/fonts/icon.woff')
               format('woff'),
             url('http://docs.engineblock.io/fonts/icon.ttf')
               format('truetype'),
             url('http://docs.engineblock.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/application.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/images.css">

    <link rel="stylesheet" href="http://docs.engineblock.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://docs.engineblock.io/javascripts/modernizr.js"></script>

    

  
    
    

    
    

    
    

    
    

    
    

    
    

    
    
    
    
    

    
    


      
    
    <link href="http://docs.engineblock.io//modules/annotatorjs/annotator.css" rel="stylesheet" />
    <script src="http://docs.engineblock.io//modules/annotatorjs/jquery-3.2.1.js"></script>
    <script src="http://docs.engineblock.io//modules/annotatorjs/annotator.js"></script>
    <script>
        var app = new annotator.App();
        app.include(annotator.ui.main);
        app
            .start()
            .then(function() {
                app.annotations.load();
            });
    </script>


  </head>
  <body class="palette-primary-grey palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Config File Format
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/engineblock/engineblock" title="@engineblock/engineblock on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://docs.engineblock.io/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://docs.engineblock.io/images/engineblock_128.png">
        </div>
      
      <div class="name">
        <strong>EngineBlock </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="EngineBlock" href="http://docs.engineblock.io/">
	
	EngineBlock
</a>



  
</li>



<li>
  
    



<a  title="Quickstart" href="http://docs.engineblock.io/quickstart/">
	
	Quickstart
</a>



  
</li>



<li>
  
    <span class="section">User Guide</span>
    <ul>
      
        
        



<a  title="Concepts" href="http://docs.engineblock.io/user-guide/concepts/">
	
	Concepts
</a>



      
        
        



<a  title="Command Line" href="http://docs.engineblock.io/user-guide/command_line/">
	
	Command Line
</a>



      
        
        



<a  title="CLI Scripting" href="http://docs.engineblock.io/user-guide/cli_scripting/">
	
	CLI Scripting
</a>



      
        
        



<a class="current" title="Config File Format" href="http://docs.engineblock.io/user-guide/standard_yaml/">
	
	Config File Format
</a>


<ul id="scrollspy">
</ul>


      
        
        



<a  title="Metrics" href="http://docs.engineblock.io/user-guide/metrics/">
	
	Metrics
</a>



      
        
        



<a  title="Scenario Scripting" href="http://docs.engineblock.io/user-guide/scripting/">
	
	Scenario Scripting
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Dev Guide</span>
    <ul>
      
        
        



<a  title="Activity Internals" href="http://docs.engineblock.io/dev-guide/activity_internals/">
	
	Activity Internals
</a>



      
        
        



<a  title="Building ActivityTypes" href="http://docs.engineblock.io/dev-guide/building_activities/">
	
	Building ActivityTypes
</a>



      
        
        



<a  title="Diag ActivityType" href="http://docs.engineblock.io/dev-guide/annotated_diag/">
	
	Diag ActivityType
</a>



      
        
        



<a  title="Project Structure" href="http://docs.engineblock.io/dev-guide/contributing/">
	
	Project Structure
</a>



      
        
        



<a  title="Scripting Extensions" href="http://docs.engineblock.io/dev-guide/scripting_extensions/">
	
	Scripting Extensions
</a>



      
    </ul>
  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Config File Format </h1>

			

<p>In the EB 2.* and newer versions, a uniform YAML configuration format is
provided that makes it easy to use for any activity that requires
statements, tags, parameters and data bindings. That format is described here.</p>

<p>There are two parts to this documentation. The first part is a description of
the document format itself, with some notes on semantics and usage. The second
part is a guide for programmers for using the API to load the format. That part will
be in the dev guide.</p>

<h2 id="format">Format</h2>

<p>A valid config file for an activity consists of</p>

<ol>
<li>One or more documents, separated by &lsquo;&mdash;&rsquo;, each containing:

<ol>
<li>an optional document name, under a <em>name</em> field.</li>
<li>zero or more tags, under a <em>tags</em> section, in key-value format</li>
<li>optional parameters, under a <em>params</em> section, in key-value format</li>
<li>optional data bindings, under a <em>bindings</em> section, in key-value format.</li>
<li>optional statements, under a <em>statements</em> section, list format.</li>
<li>zero or more blocks, under a <em>blocks</em> section, in block list format, each having:

<ol>
<li>an optional block name, under a <em>name</em> field.</li>
<li>zero or more tags, under a <em>tags</em> section, in key-value format</li>
<li>optional parameters, under a <em>params</em> section, in key-value format</li>
<li>optional data bindings, under a <em>bindings</em> section, in key-value format.</li>
<li>optional statements, under a <em>statements</em> section, list format.</li>
</ol></li>
</ol></li>
</ol>

<p>This is essentially a nested template format. An example:</p>

<pre><code>name: simple-csv-example
statements:
 - {alpha},{beta},{gamma}
bindings:
 alpha: Identity()
 beta: NumberNameToString()
 gamma Combinations('0-9A-F;0-9;A-Z;_pro;')
</code></pre>

<p>This is just a simple example. Sometimes this is all you need. The uniform
configuration format is designed to scale up and down in complexity depending
on whether you need a sophisticated configuration or something very simple like
the above.</p>

<p>No matter what, the whole YAML format is about configuring statements or other
operations to be used in an activity. The statement syntax that you will use
will depend on the ActivityType that you are using it with. This generalization
applies as well to tags, params, and bindings. In general, testing requires
statements, statement parameters, and data bindings. We add to these the
concepts of blocks and tags.</p>

<h2 id="blocks">Blocks</h2>

<p>As stated above, the real purpose of this format is to make it easy to configure
statements. That means that the tags, params, and bindings are all really
statement properties, yet statements are provided in list form. How do we map
the params, tags, and bindings to them? The simple rule is that any tag,
binding, or param that is defined at the same level as the statement applies
directly to it. If there are 40 statements in a block, and 3 params in that
block, then those 3 params will be associated directly with each of those 40
statements.</p>

<p>However, this is not the full story. Statements occur in list form, with no
internal structure for an individual set of tag, param, or binding data. If you
need to have this type of control for a given statement, where other statements
do not share its configuration, then use blocks. Any tags, params, or bindings
that are defined at the block level will apply to all statements in that block.</p>

<p>Any tags, params, or bindings that are defined at the document level will,
also apply to all statements within that document, unless there is one of the
same name already assigned within a given statement&rsquo;s block.</p>

<h2 id="detailed-examples">Detailed Examples</h2>

<p>Here is a more thorough example with some blocks:</p>

<pre><code>name: mixed-csv-example
params:
 ratio: 1
blocks:
 - name: low-ratio
   statements:
    - test1-{alpha},{beta},{gamma}
    - test2-{alpha},{gamma},{beta}
   bindings:
    alpha: Combinations('b;l;o;c;k;1;-;COMBINATIONS;');
 - name: high-ratio
   params:
    ratio: 9
   statements:
    - test3-{beta},{alpha},{gamma}
    - test4-{beta},{gamma},{alpha}
   bindings:
    alpha: Combinations('b;l;o;c;k;2;-;COMBINATIONS;');
bindings:
 beta: NumberNameToString()
 gamma Combinations('0-9A-F;0-9;A-Z;_pro;')
</code></pre>

<p>This example allows us to show the practical value of blocks.
Blocks are both a grouping mechanism as well as an inheritance mechanism.</p>

<p>In this case, we see four statements, notated as test1, test2, test3, and test4.</p>

<p>We also see that the block with name &lsquo;low-ratio&rsquo; has no ratio param assigned.
As such, it will take the defaults from the document, &ldquo;1&rdquo; in this case.
Being a &ldquo;statement configuration&rdquo; format, this means that the statements
test1 and test2 <em>have</em> ratio: 1. In contrast, the block named &lsquo;high-ratio&rsquo; has
its own set of params. The ratio param overrides the doc value in this case, so
test3 and test4 <em>have</em> ratio: 9. This exact logic applies to the other types
of configuration elements.</p>

<h2 id="tags">Tags</h2>

<p>Tags are used to mark and filter groups of statements for controlling different
types of scenario execution. As such, they extend the command line syntax with
the ability to match statements that have certain tag properties:</p>

<ol>
<li>A given tag name is defined</li>
<li>A given tag name is defined and its value is something specific</li>
<li>A given tag name is defined and its value matches a pattern</li>
</ol>

<h3 id="tag-filtering">Tag Filtering</h3>

<p>A simple tag filtering form is used across all tags. Examples of the above, respectively,
are:</p>

<pre><code>tags=keyname1

tags=keyname2:value2

tags='keyname3:.*matchme'
</code></pre>

<p>Each of these examples only shows one of the tag matching forms. It is possible to combine
these into compound tag filters. In this case, they are conjugated with an implied <em>and</em>.
For example, &ldquo;tags=&lsquo;keyname1,keyname3:.*matchme&rsquo;&rdquo; will only match statements that have a tag
named keyname1 and a tag named keyname3 with a value that ends with &lsquo;matchme&rsquo;.</p>

<h2 id="params">Params</h2>

<p>Configuration Params are simple string-string maps of configuration parameters that are
contextual to the activity type. An example would be whether a statement should be prepared
or not. It is up to the ActivityType designer to document the params for each driver type.</p>

<h2 id="bindings">Bindings</h2>

<p>Data Bindings are the standard way of assigning a procedural data generation recipe to
be used with statements (operations) within an activity.</p>

<p>Bindings can safely be set at the doc level or the block level for re-use by
statements. Statements within a given activity type should only call the
bindings for data generation when each binding is used by name. Because of this,
it is generally safe to define as superset of binding recipes at the doc level
with each statement pulling in values as needed. Consider the bindings as a menu
of data streams, with each statement pulling data from those streams only where
specified by named anchors.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 APL 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://docs.engineblock.io/user-guide/scripting/" title="Scenario Scripting">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Scenario Scripting
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://docs.engineblock.io/user-guide/command_line/" title="Command Line">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Command Line
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://docs.engineblock.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "¶";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

